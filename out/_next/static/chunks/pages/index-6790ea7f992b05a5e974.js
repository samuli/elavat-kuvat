(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{3646:function(t,e,n){var r=n(7228);t.exports=function(t){if(Array.isArray(t))return r(t)}},6860:function(t){t.exports=function(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}},8206:function(t){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},319:function(t,e,n){var r=n(3646),a=n(6860),i=n(379),c=n(8206);t.exports=function(t){return r(t)||a(t)||i(t)||c()}},4002:function(t,e,n){"use strict";var r=n(7146),a=n(9008);e.Z=function(t){var e=t.title,n=void 0===e?null:e,i=t.description,c=void 0===i?null:i,o=t.resultPage,u=void 0===o?null:o;return(0,r.BX)(a.default,{children:[(0,r.BX)("title",{children:[n&&"".concat(n," / "),"El\xe4v\xe4t kuvat",n?"":" - suomalaisia lyhytelokuvia",u>1?" - sivu ".concat(u):""]}),(0,r.tZ)("link",{rel:"icon",href:"/favicon.ico"}),(0,r.tZ)("meta",{name:"viewport",content:"width=device-width, height=device-height, initial-scale=1.0, minimum-scale=1.0"}),c&&(0,r.tZ)("meta",{name:"description",content:c.substring(0,200)})]})}},3419:function(t,e,n){"use strict";n.d(e,{E:function(){return o},O:function(){return l}});var r=n(7146),a=n(6010),i=n(5796),c=n(5969),o=function(t){var e=t.src,n=t.width,a=void 0===n?300:n,i=(t.height,t.style),c=void 0===i?{}:i;return(0,r.tZ)("img",{src:"https://api.finna.fi".concat(e,"&w=").concat(a),className:"w-auto rouded-xl overflow-hidden",alt:"",style:c})},u=function(t,e){return t?(0,r.tZ)(i.ZP,{offset:100,once:!0,children:e}):e},l=function(t){var e=t.records,n=t.lazy,i=void 0===n||n;return(0,r.tZ)("div",{children:(0,r.tZ)("ul",{className:"flex flex-row flex-wrap justify-between. overflow-hidden.",children:null===e||void 0===e?void 0:e.map((function(t,e){return(0,r.tZ)("li",{role:"button",className:(0,a.Z)("px-1 mb-3 w-1/2 sm:w-1/3 md:w-1/4 h-full flex flex-col group",(null===t||void 0===t?void 0:t.id)&&"cursor-pointer"),children:(n=(null===t||void 0===t?void 0:t.id)||null,o=(0,r.BX)("div",{className:"flex flex-col",children:[(0,r.tZ)("div",{className:"overflow-hidden aspect-w-5 aspect-h-4",children:(null===t||void 0===t?void 0:t.images.length)>0&&u(i&&e>=8,(0,r.tZ)("img",{className:"object-cover object-center",src:"https://api.finna.fi".concat(t.images[0],"&w=300"),alt:""}))}),(0,r.tZ)("div",{className:"w-full bg-gray-900 pt-2 px-3 text-center text-gray-200 overflow-hidden text-sm md:text-md line-clamp-2 h-10 group-hover:text-white leading-tight",children:(null===t||void 0===t?void 0:t.title)||""})]}),n?(0,r.tZ)(c.Z,{href:"/view?id=".concat(encodeURIComponent(n)),children:(0,r.tZ)("a",{children:o})},n):o)},"record-".concat(e));var n,o}))})})}},5969:function(t,e,n){"use strict";var r=n(6156),a=n(7146),i=n(1664);function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach((function(e){(0,r.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}e.Z=function(t){return(0,a.tZ)(i.default,o(o({},t),{},{prefetch:!1}))}},7406:function(t,e,n){"use strict";n.d(e,{N:function(){return c}});var r=n(7146),a=(n(9748),n(6010)),i=n(5969),c=function(t){var e=t.facet,n=t.facets,c=t.facetUrl,o=t.truncate,u=void 0!==o&&o;return(0,r.tZ)("div",{className:(0,a.Z)("mt-1 items-center w-full",u&&"line-clamp-3 overflow-clip"),children:(0,r.tZ)("ul",{className:"",children:n.map((function(t){return(0,r.tZ)(i.Z,{prefetch:!0,href:c(e,t.value),children:(0,r.tZ)("a",{children:(0,r.tZ)("li",{role:"button",className:"inline-flex flex-auto mr-2 mb-1 px-2 py-1 bg-gradient-to-b from-gray-100 to-gray-200 rounded-md text-xs font-medium subpixel-antialiased text-gray-800 uppercase. cursor-pointer ripple-bg-white whitespace-nowrap",children:t.translated},"facet-".concat(t.value))})},"facet-map-".concat(t.value))}))})})}},4807:function(t,e,n){"use strict";n.d(e,{d:function(){return i}});var r=n(7146),a=n(6010),i=function(t){var e=t.title,n=t.value,i=t.resultCount,c=(t.pageNum,t.pageCount,t.placeholder);return e=void 0!==c&&c?n="":"".concat(e,":"),(0,r.BX)("div",{className:"flex items-center justify-between h-8",children:[(0,r.BX)("h2",{className:(0,a.Z)("leading-tight",e&&"mr-2"),children:[e," ",(0,r.tZ)("span",{className:"font-normal text-gray-200",children:n})]}),i&&(0,r.tZ)("div",{children:(0,r.BX)("div",{className:"mr-2 text-sm text-gray-200 leading-tight",children:["(",i,(0,r.tZ)("span",{className:"sm:inline hidden",children:" klippi\xe4"}),")"]})})]})}},883:function(t,e,n){"use strict";n.d(e,{rr:function(){return u},Yw:function(){return h},J0:function(){return o},zp:function(){return l},jY:function(){return d},Gg:function(){return f},yQ:function(){return a}});var r=n(9973).sk?"http://localhost:3001":"https://api.finna.fi",a=20,i=function(t,e){return"filter[]=".concat("".concat(t,':"').concat(encodeURIComponent(e),'"'))},c=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=["free_online_boolean:1","datasource_str_mv:kavi","~format_ext_str_mv:1/Video/Video/","~format_ext_str_mv:1/Video/Short/","-id:kavi.elonet_elokuva_1611548","-genre_facet:katsaus"];return"undefined"!==typeof t&&!1!==t&&(t=t||[1900,"*"],e.push('search_daterange_mv:"['.concat(t[0]," TO ").concat(t[1],']"'))),e.map((function(t){return"filter[]=".concat(encodeURIComponent(t))})).join("&")},o=function(t,e){var n=["title","id","images"].map((function(t){return"field[]=".concat(t)})).join("&");return"".concat(r,"/api/v1/search?lookfor=").concat(encodeURIComponent(t),"&").concat(c(),"&").concat(n,"&limit=").concat(e)},u=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:a,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:["title","id","images"],s=c(o)+(n?'&filter[]=topic_facet:"'.concat(encodeURIComponent(n),'"'):"")+(i?'&filter[]=genre_facet:"'.concat(encodeURIComponent(i),'"'):""),f=l.map((function(t){return"field[]=".concat(t)})).join("&");return"".concat(r,"/api/v1/search?lookfor=").concat(encodeURIComponent(t),"&").concat(s,"&").concat(f,"&limit=").concat(u,"&page=").concat(e)},l=function(){var t=[["genre_facet","mainos"],["genre_facet","animaatio"],["genre_facet","tv-tuotanto"],["genre_facet","opetuselokuva"],["genre_facet","henkil\xf6dokumentti"],["genre_facet","ammatinkuvaus"],["genre_facet","draamadokumentti"],["genre_facet","teollisuusdokumentti"],["topic_facet","henkil\xf6autot"],["topic_facet","tehtaat"],["topic_facet","matkailu"],["topic_facet","pankit"],["topic_facet","maisema"],["topic_facet","muoti"],["topic_facet","kahvi"],["topic_facet","kaupungit"],["topic_facet","virvoitusjuomat"],["topic_facet","hygienia"],["topic_facet","elintarvikkeet"],["topic_facet","ruoanvalmistus"],["topic_facet","maatalous"],["topic_facet","myym\xe4l\xe4t"],["topic_facet","rakennukset"],["search_daterange_mv","[1950 TO 1959]"],["search_daterange_mv","[1960 TO 1969]"],["search_daterange_mv","[1970 TO 1979]"],["search_daterange_mv","[1980 TO 2000]"]],e=t[Math.floor(Math.random()*t.length)],n=c(!1)+"&"+i(e[0],e[1]),a=["title","id","images"].map((function(t){return"field[]=".concat(t)})).join("&");return"".concat(r,"/api/v1/search?").concat(n,"&").concat(a,"&limit=20&sort=first_indexed desc,id asc}")},s=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,u=c(a)+(e?"&".concat(i("topic_facet",e)):"")+(n?"&".concat(i("genre_facet",n)):""),l="facet[]=".concat(t);return"".concat(r,"/api/v1/search?lookfor=").concat(o?encodeURIComponent(o):"","&").concat(u,"&").concat(l,"&limit=0")},f=function(t,e,n,r){return s("topic_facet",e,n,r,t)},d=s("genre_facet"),p=(s("main_date_str"),["title","id","images","urls","recordPage","imageRights","rawData","buildings"]),h=function(t){var e=p.map((function(t){return"field[]=".concat(t)})).join("&");return"".concat(r,"/api/v1/record?id=").concat(t,"&").concat(e)}},3125:function(t,e,n){"use strict";n(7757)},9973:function(t,e,n){"use strict";n.d(e,{cm:function(){return l},lI:function(){return s},Pv:function(){return f},cC:function(){return d},SE:function(){return p},pz:function(){return h},sk:function(){return m}});n(7757);var r=n(9302),a=n(9748),i=(n(883),n(3125),n(8593)),c=n.n(i),o={1900:"1900-",1910:"1910-",1920:"1920-",1930:"1930-",1940:"1940-",1950:"1950-",1960:"1960-",1970:"1970-",1980:"1980-",1990:"1990-",2e3:"2000-"},u={topic_facet:"topic",genre_facet:"genre"},l=function(t){return o[t]},s=function(t,e){return"/search?".concat(u[t],"=").concat(encodeURIComponent(e))},f=function(t,e){return"/browse/".concat(u[t],"/").concat(encodeURIComponent(e))},d=function(t){return t.map((function(t){return{value:t.value,translated:t.translated}}))},p=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=(0,r.Z)((function(){c().start()}),e);(0,a.useEffect)((function(){n.cancel(),t?n():c().done()}),[t])},h=function(t,e,n,r){return t?"hae: ".concat(t):e?"aihe: ".concat(e):n?"genre: ".concat(n):r?"aikakausi: ".concat(l(r.split("-")[0])):void 0},m=!1},3398:function(t,e,n){"use strict";var r;e.__esModule=!0,e.AmpStateContext=void 0;var a=((r=n(9748))&&r.__esModule?r:{default:r}).default.createContext({});e.AmpStateContext=a},6393:function(t,e,n){"use strict";e.__esModule=!0,e.isInAmpMode=c,e.useAmp=function(){return c(a.default.useContext(i.AmpStateContext))};var r,a=(r=n(9748))&&r.__esModule?r:{default:r},i=n(3398);function c(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.ampFirst,n=void 0!==e&&e,r=t.hybrid,a=void 0!==r&&r,i=t.hasQuery,c=void 0!==i&&i;return n||a&&c}},2775:function(t,e,n){"use strict";var r=n(9713);function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}e.default=void 0;var i,c=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==typeof t&&"function"!==typeof t)return{default:t};var e=f();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){var i=r?Object.getOwnPropertyDescriptor(t,a):null;i&&(i.get||i.set)?Object.defineProperty(n,a,i):n[a]=t[a]}n.default=t,e&&e.set(t,n);return n}(n(9748)),o=(i=n(3244))&&i.__esModule?i:{default:i},u=n(3398),l=n(1165),s=n(6393);function f(){if("function"!==typeof WeakMap)return null;var t=new WeakMap;return f=function(){return t},t}function d(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=[c.default.createElement("meta",{charSet:"utf-8"})];return t||e.push(c.default.createElement("meta",{name:"viewport",content:"width=device-width"})),e}function p(t,e){return"string"===typeof e||"number"===typeof e?t:e.type===c.default.Fragment?t.concat(c.default.Children.toArray(e.props.children).reduce((function(t,e){return"string"===typeof e||"number"===typeof e?t:t.concat(e)}),[])):t.concat(e)}var h=["name","httpEquiv","charSet","itemProp"];function m(t,e){return t.reduce((function(t,e){var n=c.default.Children.toArray(e.props.children);return t.concat(n)}),[]).reduce(p,[]).reverse().concat(d(e.inAmpMode)).filter(function(){var t=new Set,e=new Set,n=new Set,r={};return function(a){var i=!0,c=!1;if(a.key&&"number"!==typeof a.key&&a.key.indexOf("$")>0){c=!0;var o=a.key.slice(a.key.indexOf("$")+1);t.has(o)?i=!1:t.add(o)}switch(a.type){case"title":case"base":e.has(a.type)?i=!1:e.add(a.type);break;case"meta":for(var u=0,l=h.length;u<l;u++){var s=h[u];if(a.props.hasOwnProperty(s))if("charSet"===s)n.has(s)?i=!1:n.add(s);else{var f=a.props[s],d=r[s]||new Set;"name"===s&&c||!d.has(f)?(d.add(f),r[s]=d):i=!1}}}return i}}()).reverse().map((function(t,n){var i=t.key||n;if(!e.inAmpMode&&"link"===t.type&&t.props.href&&["https://fonts.googleapis.com/css","https://use.typekit.net/"].some((function(e){return t.props.href.startsWith(e)}))){var o=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){r(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},t.props||{});return o["data-href"]=o.href,o.href=void 0,o["data-optimized-fonts"]=!0,c.default.cloneElement(t,o)}return c.default.cloneElement(t,{key:i})}))}var v=function(t){var e=t.children,n=(0,c.useContext)(u.AmpStateContext),r=(0,c.useContext)(l.HeadManagerContext);return c.default.createElement(o.default,{reduceComponentsToState:m,headManager:r,inAmpMode:(0,s.isInAmpMode)(n)},e)};e.default=v},3244:function(t,e,n){"use strict";var r=n(319),a=n(4575),i=n(3913),c=(n(1506),n(2205)),o=n(8585),u=n(9754);function l(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=u(t);if(e){var a=u(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return o(this,n)}}e.__esModule=!0,e.default=void 0;var s=n(9748),f=function(t){c(n,t);var e=l(n);function n(t){var i;return a(this,n),(i=e.call(this,t))._hasHeadManager=void 0,i.emitChange=function(){i._hasHeadManager&&i.props.headManager.updateHead(i.props.reduceComponentsToState(r(i.props.headManager.mountedInstances),i.props))},i._hasHeadManager=i.props.headManager&&i.props.headManager.mountedInstances,i}return i(n,[{key:"componentDidMount",value:function(){this._hasHeadManager&&this.props.headManager.mountedInstances.add(this),this.emitChange()}},{key:"componentDidUpdate",value:function(){this.emitChange()}},{key:"componentWillUnmount",value:function(){this._hasHeadManager&&this.props.headManager.mountedInstances.delete(this),this.emitChange()}},{key:"render",value:function(){return null}}]),n}(s.Component);e.default=f},6124:function(t,e,n){"use strict";n.r(e),n.d(e,{__N_SSG:function(){return g}});var r=n(7146),a=n(9748),i=n(8767),c=n(6206),o=n(5969),u=n(883),l=n(3419),s=n(4807),f=n(7406),d=n(4002),p=n(9973),h=n(1871),m=function(t){var e=t.title,n=t.startYear,a=n<2e3?n+9:"*";return(0,r.tZ)(o.Z,{href:"/browse/date/".concat(n,"-").concat(a),children:(0,r.tZ)("a",{children:(0,r.tZ)("div",{role:"button",className:"text-md subpixel-antialiased text-gray-800  uppercase tracking-tight bg-gradient-to-b from-gray-100 to-gray-300 py-1 px-2 rounded-lg cursor-pointer ripple-bg-white",children:e})})})},v=function(t){var e=t.items;return(0,r.tZ)("ul",{className:"flex flex-wrap mt-2",children:e.map((function(t){return(0,r.tZ)("li",{className:"mr-2 mb-2",children:(0,r.tZ)(m,{startYear:t,title:(0,p.cm)(t)})},"decade-".concat(t))}))})},g=!0;e.default=function(t){var e=t.randomClips,n=t.topics,m=t.genres,g=t.decades,y=(0,c.lP)().updateScroll,_=(0,a.useState)(),b=_[0],w=_[1],x=(0,a.useState)((0,u.zp)()),k=x[0],Z=x[1],O=(0,i.useQuery)(k,{initialData:e}),j=O.data,N=O.isFetching,C=(0,i.useQuery)((0,u.Gg)(),{initialData:n,refetchOnMount:!1}).data,M=(0,i.useQuery)(u.jY,{initialData:m,refetchOnMount:!1}).data;return(0,p.SE)(N),(0,a.useEffect)((function(){y()}),[]),(0,a.useEffect)((function(){j&&j.records&&w(function(t,e){if(t.length<=e)return t;for(var n=new Set,r=t.length-1;n.size<e;)n.add(Math.floor(Math.random()*r));return Array.from(n),t.filter((function(t,e){return n.has(e)}))}(j.records,8))}),[j]),(0,r.BX)("div",{children:[(0,r.tZ)(d.Z,{}),(0,r.tZ)(r.HY,{children:(0,r.BX)("div",{children:[(0,r.tZ)("div",{className:"pt-2 w-full",children:(0,r.BX)("div",{className:"flex flex-col flex-wrap md:flex-nowrap",children:[(0,r.tZ)(s.d,{title:"Yleisimm\xe4t aiheet"}),(0,r.tZ)("div",{className:"h-16 min-h-32 w-full mt-1 mb-3",children:C&&(0,r.tZ)(f.N,{title:"Aiheet",facet:"topic_facet",facets:C.facets.topic_facet,facetUrl:p.Pv,truncate:!0})})]})}),(0,r.tZ)("div",{className:"mt-6",children:(0,r.BX)("div",{className:"flex flex-col text-center",children:[(0,r.BX)("div",{className:"flex items-center",children:[(0,r.tZ)(s.d,{title:"Poimintoja"}),(0,r.tZ)("div",{className:"cursor-pointer active:text-pink-500",title:"N\xe4yt\xe4 lis\xe4\xe4",onClick:function(t){return Z((0,u.zp)())},children:(0,r.tZ)(h.GVn,{})})]}),(0,r.tZ)(l.O,{lazy:!1,records:b||Array.from(Array(8))}),(0,r.tZ)(o.Z,{href:"/browse/clips",children:(0,r.tZ)("a",{children:(0,r.tZ)("div",{role:"button",className:"inline-flex mt-6 mb-4 py-3 px-4 text-md subpixel-antialiased font-medium tracking-tight rounded-xl bg-gray-200 text-gray-900 hover:text-black hover:bg-white cursor-pointer bg-gradient-to-b from-gray-100 to-gray-300 ripple-bg-white",children:(0,r.tZ)("div",{className:"flex justify-center items-center",children:(0,r.tZ)("div",{className:"inline-flex",children:"N\xe4yt\xe4 kaikki klipit"})})})})})]})}),(0,r.tZ)("div",{className:"w-full",children:(0,r.BX)("div",{className:"flex flex-col flex-wrap md:flex-nowrap",children:[(0,r.BX)("div",{children:[(0,r.tZ)(s.d,{title:"Aikakausi"}),(0,r.tZ)(v,{items:g})]}),(0,r.BX)("div",{className:"mt-2",children:[(0,r.tZ)(s.d,{title:"Genret"}),M&&(0,r.tZ)(f.N,{title:"Genret",facet:"genre_facet",facets:(0,p.cC)(M.facets.genre_facet),facetUrl:p.Pv})]})]})})]})})]})}},8581:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(6124)}])},9008:function(t,e,n){t.exports=n(2775)}},function(t){t.O(0,[625,774,888,179],(function(){return e=8581,t(t.s=e);var e}));var e=t.O();_N_E=e}]);