(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{632:function(e,t,n){"use strict";n.d(t,{E:function(){return o},O:function(){return s}});var c=n(8169),r=n(6010),a=(n(9748),n(617)),i=n(6359),o=function(e){var t=e.src,n=e.width,r=void 0===n?300:n,a=e.style,i=void 0===a?{}:a;return(0,c.tZ)("img",{src:"https://api.finna.fi".concat(t,"&w=").concat(r),className:"w-auto rouded-xl overflow-hidden",alt:"Esikatselukuva",style:i})},l=function(e){var t=e.key,n=e.placeholder,a=e.children;return(0,c.tZ)("li",{className:(0,r.Z)("px-1 mt-2 w-1/2 sm:w-1/3 md:w-1/4 h-full flex flex-col group",!n&&"cursor-pointer"),children:a},t)},d=function(e){var t=e.imageUrl,n=e.title;return(0,c.BX)("div",{style:{backgroundColor:"rgb(21, 30, 50)"},children:[(0,c.tZ)("div",{className:"flex. rounded-sm aspect-w-5 aspect-h-4 h-full",children:(0,c.tZ)(a.U,{duration:300,offset:100,render:function(e){return(0,c.tZ)("div",{className:"overflow-hidden h-full",children:t&&(0,c.tZ)("img",{className:"object-none object-center h-full",src:"https://api.finna.fi".concat(t,"&w=300"),alt:"Esikatselukuva",onLoad:e})})}})}),(0,c.tZ)("div",{className:"py-2 px-3 text-center text-gray-200 truncate text-center text-xs overflow-ellipsis group-hover:text-white",children:n?(0,c.tZ)("div",{className:"self-end",children:n}):(0,c.tZ)("div",{className:"self-end",children:"\xa0"})})]})},s=function(e){var t=e.records,n=e.placeholder,r=void 0!==n&&n,a=r?Array.from(Array(8)).map((function(){return{id:"",title:"",buildings:[]}})):t;return a?(0,c.tZ)("div",{children:(0,c.tZ)("ul",{className:"flex flex-row flex-wrap overflow-hidden.",children:a.map((function(e,t){return(0,c.BX)(l,{placeholder:r,children:[!r&&(0,c.tZ)(i.Z,{href:"/view?id=".concat(encodeURIComponent(e.id)),children:(0,c.tZ)("a",{className:"flex flex-col",children:(0,c.tZ)(d,{imageUrl:(null===e||void 0===e?void 0:e.images)&&e.images[0]||void 0,title:e.title})})},"link-".concat(t)),r&&(0,c.tZ)("div",{children:(0,c.tZ)(d,{})})]},"record-".concat(t))}))})}):null}},6359:function(e,t,n){"use strict";var c=n(2809),r=n(8169),a=n(1664);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);t&&(c=c.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,c)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.Z=function(e){return(0,r.tZ)(a.default,o(o({},e),{},{prefetch:!1,children:e.children}))}},7074:function(e,t,n){"use strict";n.d(t,{N:function(){return i}});var c=n(8169),r=n(6010),a=n(6359),i=function(e){var t=e.facet,n=e.facets,i=e.facetUrl,o=e.truncate,l=void 0!==o&&o;return(0,c.tZ)("div",{className:(0,r.Z)("mt-1 items-center w-full",l&&"line-clamp-3 overflow-clip"),children:(0,c.tZ)("ul",{children:n.map((function(e){return(0,c.tZ)(a.Z,{prefetch:!0,href:i(t,e),children:(0,c.tZ)("a",{children:(0,c.tZ)("li",{className:"inline-flex flex-auto mr-2 mb-1 px-2 py-1 bg-gradient-to-b from-gray-100 to-gray-200 rounded-md text-xs font-medium subpixel-antialiased text-gray-800 uppercase. cursor-pointer ripple-bg-white whitespace-nowrap",children:e},"facet-".concat(e))})},"facet-".concat(e))}))})})}},1604:function(e,t,n){"use strict";n.d(t,{d:function(){return a}});var c=n(8169),r=n(6010),a=function(e){var t=e.title,n=e.value,a=e.resultCount;return t=e.placeholder?n="":"".concat(t,":"),(0,c.BX)("div",{className:"flex items-center justify-between h-8",children:[(0,c.BX)("h1",{className:(0,r.Z)("unstyled leading-tight",t&&"mr-2"),children:[t," ",(0,c.tZ)("span",{className:"font-normal text-gray-200",children:n})]}),a&&(0,c.tZ)("div",{children:(0,c.BX)("div",{className:"mr-2 text-sm text-gray-200 leading-tight",children:["(",a,(0,c.tZ)("span",{className:"sm:inline hidden",children:" elokuvaa"}),")"]})})]})}},3154:function(e,t,n){"use strict";n.d(t,{J0:function(){return o},zp:function(){return d},Yw:function(){return m},yQ:function(){return r},rr:function(){return l},Gg:function(){return u}});var c=(n(8598).sk,"https://api.finna.fi"),r=20,a=function(e,t){return"filter[]=".concat("".concat(e,':"').concat(encodeURIComponent(t),'"'))},i=function(e){e=e||[1900,"*"];var t=["free_online_boolean:1","datasource_str_mv:kavi","~format_ext_str_mv:1/Video/Video/","~format_ext_str_mv:1/Video/Short/","-id:kavi.elonet_elokuva_1611548","-genre_facet:katsaus"];return t.push('search_daterange_mv:"['.concat(e[0]," TO ").concat(e[1],']"')),t.map((function(e){return"filter[]=".concat(encodeURIComponent(e))})).join("&")},o=function(e,t){var n=["title","id","images"].map((function(e){return"field[]=".concat(e)})).join("&");return"".concat(c,"/api/v1/search?lookfor=").concat(encodeURIComponent(e),"&").concat(i(),"&").concat(n,"&limit=").concat(t)},l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:r,d=arguments.length>6&&void 0!==arguments[6]?arguments[6]:["title","id","images"],s=i(o)+(n?'&filter[]=topic_facet:"'.concat(encodeURIComponent(n),'"'):"")+(a?'&filter[]=genre_facet:"'.concat(encodeURIComponent(a),'"'):""),u=d.map((function(e){return"field[]=".concat(e)})).join("&");return"".concat(c,"/api/v1/search?lookfor=").concat(encodeURIComponent(e),"&").concat(s,"&").concat(u,"&limit=").concat(l,"&page=").concat(t)},d=function(){var e=[["genre_facet","mainos"],["genre_facet","animaatio"],["genre_facet","tv-tuotanto"],["genre_facet","opetuselokuva"],["genre_facet","henkil\xf6dokumentti"],["genre_facet","ammatinkuvaus"],["genre_facet","draamadokumentti"],["genre_facet","teollisuusdokumentti"],["topic_facet","henkil\xf6autot"],["topic_facet","tehtaat"],["topic_facet","matkailu"],["topic_facet","pankit"],["topic_facet","maisema"],["topic_facet","muoti"],["topic_facet","kahvi"],["topic_facet","kaupungit"],["topic_facet","virvoitusjuomat"],["topic_facet","hygienia"],["topic_facet","elintarvikkeet"],["topic_facet","ruoanvalmistus"],["topic_facet","maatalous"],["topic_facet","myym\xe4l\xe4t"],["topic_facet","rakennukset"],["search_daterange_mv","[1950 TO 1959]"],["search_daterange_mv","[1960 TO 1969]"],["search_daterange_mv","[1970 TO 1979]"],["search_daterange_mv","[1980 TO 2000]"]],t=e[Math.floor(Math.random()*e.length)],n=i()+"&"+a(t[0],t[1]),r=["title","id","images"].map((function(e){return"field[]=".concat(e)})).join("&");return"".concat(c,"/api/v1/search?").concat(n,"&").concat(r,"&limit=20&sort=first_indexed desc,id asc}")},s=function(e,t,n,r,o){var l=i(r)+(t?"&".concat(a("topic_facet",t)):"")+(n?"&".concat(a("genre_facet",n)):""),d="facet[]=".concat(e);return"".concat(c,"/api/v1/search?lookfor=").concat(o?encodeURIComponent(o):"","&").concat(l,"&").concat(d,"&limit=0")},u=function(e,t,n,c){return s("topic_facet",t,n,c,e)},f=(s("genre_facet"),s("main_date_str"),["title","id","images","urls","recordPage","imageRights","rawData","buildings"]),m=function(e){var t=f.map((function(e){return"field[]=".concat(e)})).join("&");return"".concat(c,"/api/v1/record?id=").concat(e,"&").concat(t)}},2562:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSG:function(){return g}});var c=n(8169),r=n(6206),a=n(2962),i=n(9748),o=n(1871),l=n(8767),d=n(632),s=n(6359),u=n(7074),f=n(1604),m=n(3154),h=n(8598),p=function(e){var t=e.title,n=e.startYear,r=n<2e3?n+9:"*";return(0,c.tZ)(s.Z,{href:"/browse/date/".concat(n,"-").concat(r),children:(0,c.tZ)("a",{children:(0,c.tZ)("div",{className:"text-md subpixel-antialiased text-gray-800  uppercase tracking-tight bg-gradient-to-b from-gray-100 to-gray-300 py-1 px-2 rounded-lg cursor-pointer ripple-bg-white",children:t})})})},v=function(e){var t=e.items;return(0,c.tZ)("ul",{className:"flex flex-wrap mt-2",children:t.map((function(e){return(0,c.tZ)("li",{className:"mr-2 mb-2",children:(0,c.tZ)(p,{startYear:e,title:(0,h.cm)(e)})},"decade-".concat(e))}))})},g=!0;t.default=function(e){var t=e.topics,n=e.genres,p=e.decades,g=(0,r.lP)().updateScroll,_=(0,i.useState)(),Z=_[0],x=_[1],w=(0,i.useState)((0,m.zp)()),b=w[0],k=w[1],y=(0,l.useQuery)(b),N=y.data,O=y.isFetching;return(0,h.SE)(O),(0,i.useEffect)((function(){g()}),[g]),(0,i.useEffect)((function(){N&&null!==N&&void 0!==N&&N.records&&x(function(e,t){if(e.length<=t)return e;for(var n=new Set,c=e.length-1;n.size<t;)n.add(Math.floor(Math.random()*c));return e.filter((function(e,t){return n.has(t)}))}(null===N||void 0===N?void 0:N.records,8))}),[N]),(0,c.BX)(c.HY,{children:[(0,c.tZ)(a.PB,{title:(0,h.pz)(),openGraph:{title:(0,h.pz)(),url:h.Gd}}),(0,c.tZ)("div",{children:(0,c.tZ)(c.HY,{children:(0,c.BX)("div",{children:[(0,c.tZ)("div",{className:"pt-2 w-full",children:(0,c.BX)("div",{className:"flex flex-col flex-wrap md:flex-nowrap",children:[(0,c.tZ)(f.d,{title:"Yleisimm\xe4t aiheet"}),(0,c.tZ)("div",{className:"h-16 min-h-32 w-full mt-1 mb-3",children:(0,c.tZ)(u.N,{facet:"topic_facet",facets:t,facetUrl:h.Pv,truncate:!0})})]})}),(0,c.tZ)("div",{className:"mt-6",children:(0,c.BX)("div",{className:"flex flex-col text-center",children:[(0,c.BX)("div",{className:"flex items-center mb-1",children:[(0,c.tZ)(f.d,{title:"Poimintoja"}),(0,c.tZ)("div",{className:"cursor-pointer active:text-pink-500",title:"N\xe4yt\xe4 lis\xe4\xe4",onClick:function(){x(void 0),k((0,m.zp)())},children:(0,c.tZ)(o.GVn,{})})]}),(0,c.tZ)(d.O,{records:"undefined"!==typeof Z?Z:[],placeholder:O||!Z}),(0,c.tZ)(s.Z,{href:"/browse/clips",children:(0,c.tZ)("a",{children:(0,c.tZ)("div",{role:"button",className:"inline-flex mt-6 mb-4 py-3 px-4 text-md subpixel-antialiased font-medium tracking-tight rounded-xl bg-gray-200 text-gray-900 hover:text-black hover:bg-white cursor-pointer bg-gradient-to-b from-gray-100 to-gray-300 ripple-bg-white",children:(0,c.tZ)("div",{className:"flex justify-center items-center",children:(0,c.tZ)("div",{className:"inline-flex",children:"Selaa elokuvia"})})})})})]})}),(0,c.tZ)("div",{className:"w-full",children:(0,c.BX)("div",{className:"flex flex-col flex-wrap md:flex-nowrap",children:[(0,c.BX)("div",{children:[(0,c.tZ)(f.d,{title:"Aikakausi"}),(0,c.tZ)(v,{items:p})]}),(0,c.BX)("div",{className:"mt-2",children:[(0,c.tZ)(f.d,{title:"Genret"}),(0,c.tZ)(u.N,{facet:"genre_facet",facets:n,facetUrl:h.Pv})]})]})})]})})})]})}},5301:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(2562)}])}},function(e){e.O(0,[617,774,888,179],(function(){return t=5301,e(e.s=t);var t}));var t=e.O();_N_E=t}]);