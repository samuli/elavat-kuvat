(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{3419:function(t,e,n){"use strict";n.d(e,{E:function(){return o},O:function(){return l}});var a=n(8169),r=(n(9748),n(6010)),c=n(617),i=n(5969),o=function(t){var e=t.src,n=t.width,r=void 0===n?300:n,c=(t.height,t.style),i=void 0===c?{}:c;return(0,a.tZ)("img",{src:"https://api.finna.fi".concat(e,"&w=").concat(r),className:"w-auto rouded-xl overflow-hidden",alt:"Esikatselukuva",style:i})},l=function(t){var e=t.records;t.lazy;return(0,a.tZ)("div",{children:(0,a.tZ)("ul",{className:"flex flex-row flex-wrap overflow-hidden.",children:null===e||void 0===e?void 0:e.map((function(t,e){return(0,a.tZ)("li",{className:(0,r.Z)("px-1 mt-2 w-1/2 sm:w-1/3 md:w-1/4 h-full flex flex-col group",(null===t||void 0===t?void 0:t.id)&&"cursor-pointer"),children:(n=(null===t||void 0===t?void 0:t.id)||null,o=(0,a.BX)("div",{className:"flex flex-col rounded-sm",style:{backgroundColor:"rgb(21, 30, 50)"},children:[(0,a.tZ)("div",{className:"overflow-hidden aspect-w-5 aspect-h-4",children:(null===t||void 0===t?void 0:t.images.length)>0&&(0,a.tZ)(c.U,{duration:300,offset:100,render:function(e){return(0,a.tZ)("img",{className:"object-none object-center",src:"https://api.finna.fi".concat(t.images[0],"&w=300"),alt:"Esikatselukuva",onLoad:e})}})}),(0,a.tZ)("div",{className:"w-full py-2 px-3 text-center text-gray-200 truncate text-xs overflow-ellipsis group-hover:text-white",children:(null===t||void 0===t?void 0:t.title)||""})]}),n?(0,a.tZ)(i.Z,{href:"/view?id=".concat(encodeURIComponent(n)),children:(0,a.tZ)("a",{children:o})},n):o)},"record-".concat(e));var n,o}))})})}},5969:function(t,e,n){"use strict";var a=n(2809),r=n(8169),c=n(1664);function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){(0,a.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}e.Z=function(t){return(0,r.tZ)(c.default,o(o({},t),{},{prefetch:!1}))}},7406:function(t,e,n){"use strict";n.d(e,{N:function(){return i}});var a=n(8169),r=(n(9748),n(6010)),c=n(5969),i=function(t){var e=t.facet,n=t.facets,i=t.facetUrl,o=t.truncate,l=void 0!==o&&o;return(0,a.tZ)("div",{className:(0,r.Z)("mt-1 items-center w-full",l&&"line-clamp-3 overflow-clip"),children:(0,a.tZ)("ul",{children:n.map((function(t){return(0,a.tZ)(c.Z,{prefetch:!0,href:i(e,t.value),children:(0,a.tZ)("a",{children:(0,a.tZ)("li",{className:"inline-flex flex-auto mr-2 mb-1 px-2 py-1 bg-gradient-to-b from-gray-100 to-gray-200 rounded-md text-xs font-medium subpixel-antialiased text-gray-800 uppercase. cursor-pointer ripple-bg-white whitespace-nowrap",children:t.translated},"facet-".concat(t.value))})},"facet-map-".concat(t.value))}))})})}},4807:function(t,e,n){"use strict";n.d(e,{d:function(){return c}});var a=n(8169),r=n(6010),c=function(t){var e=t.title,n=t.value,c=t.resultCount,i=(t.pageNum,t.pageCount,t.placeholder);return e=void 0!==i&&i?n="":"".concat(e,":"),(0,a.BX)("div",{className:"flex items-center justify-between h-8",children:[(0,a.BX)("h1",{className:(0,r.Z)("unstyled leading-tight",e&&"mr-2"),children:[e," ",(0,a.tZ)("span",{className:"font-normal text-gray-200",children:n})]}),c&&(0,a.tZ)("div",{children:(0,a.BX)("div",{className:"mr-2 text-sm text-gray-200 leading-tight",children:["(",c,(0,a.tZ)("span",{className:"sm:inline hidden",children:" elokuvaa"}),")"]})})]})}},883:function(t,e,n){"use strict";n.d(e,{rr:function(){return l},Yw:function(){return p},J0:function(){return o},zp:function(){return u},jY:function(){return f},Gg:function(){return s},yQ:function(){return r}});var a=(n(7076).sk,"https://api.finna.fi"),r=20,c=function(t,e){return"filter[]=".concat("".concat(t,':"').concat(encodeURIComponent(e),'"'))},i=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=["free_online_boolean:1","datasource_str_mv:kavi","~format_ext_str_mv:1/Video/Video/","~format_ext_str_mv:1/Video/Short/","-id:kavi.elonet_elokuva_1611548","-genre_facet:katsaus"];return"undefined"!==typeof t&&!1!==t&&(t=t||[1900,"*"],e.push('search_daterange_mv:"['.concat(t[0]," TO ").concat(t[1],']"'))),e.map((function(t){return"filter[]=".concat(encodeURIComponent(t))})).join("&")},o=function(t,e){var n=["title","id","images"].map((function(t){return"field[]=".concat(t)})).join("&");return"".concat(a,"/api/v1/search?lookfor=").concat(encodeURIComponent(t),"&").concat(i(),"&").concat(n,"&limit=").concat(e)},l=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2?arguments[2]:void 0,c=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:r,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:["title","id","images"],d=i(o)+(n?'&filter[]=topic_facet:"'.concat(encodeURIComponent(n),'"'):"")+(c?'&filter[]=genre_facet:"'.concat(encodeURIComponent(c),'"'):""),s=u.map((function(t){return"field[]=".concat(t)})).join("&");return"".concat(a,"/api/v1/search?lookfor=").concat(encodeURIComponent(t),"&").concat(d,"&").concat(s,"&limit=").concat(l,"&page=").concat(e)},u=function(){var t=[["genre_facet","mainos"],["genre_facet","animaatio"],["genre_facet","tv-tuotanto"],["genre_facet","opetuselokuva"],["genre_facet","henkil\xf6dokumentti"],["genre_facet","ammatinkuvaus"],["genre_facet","draamadokumentti"],["genre_facet","teollisuusdokumentti"],["topic_facet","henkil\xf6autot"],["topic_facet","tehtaat"],["topic_facet","matkailu"],["topic_facet","pankit"],["topic_facet","maisema"],["topic_facet","muoti"],["topic_facet","kahvi"],["topic_facet","kaupungit"],["topic_facet","virvoitusjuomat"],["topic_facet","hygienia"],["topic_facet","elintarvikkeet"],["topic_facet","ruoanvalmistus"],["topic_facet","maatalous"],["topic_facet","myym\xe4l\xe4t"],["topic_facet","rakennukset"],["search_daterange_mv","[1950 TO 1959]"],["search_daterange_mv","[1960 TO 1969]"],["search_daterange_mv","[1970 TO 1979]"],["search_daterange_mv","[1980 TO 2000]"]],e=t[Math.floor(Math.random()*t.length)],n=i(!1)+"&"+c(e[0],e[1]),r=["title","id","images"].map((function(t){return"field[]=".concat(t)})).join("&");return"".concat(a,"/api/v1/search?").concat(n,"&").concat(r,"&limit=20&sort=first_indexed desc,id asc}")},d=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,l=i(r)+(e?"&".concat(c("topic_facet",e)):"")+(n?"&".concat(c("genre_facet",n)):""),u="facet[]=".concat(t);return"".concat(a,"/api/v1/search?lookfor=").concat(o?encodeURIComponent(o):"","&").concat(l,"&").concat(u,"&limit=0")},s=function(t,e,n,a){return d("topic_facet",e,n,a,t)},f=d("genre_facet"),m=(d("main_date_str"),["title","id","images","urls","recordPage","imageRights","rawData","buildings"]),p=function(t){var e=m.map((function(t){return"field[]=".concat(t)})).join("&");return"".concat(a,"/api/v1/record?id=").concat(t,"&").concat(e)}},6124:function(t,e,n){"use strict";n.r(e),n.d(e,{__N_SSG:function(){return g}});var a=n(8169),r=n(2962),c=n(9748),i=n(8767),o=n(6206),l=n(5969),u=n(883),d=n(3419),s=n(4807),f=n(7406),m=n(7076),p=n(1871),h=function(t){var e=t.title,n=t.startYear,r=n<2e3?n+9:"*";return(0,a.tZ)(l.Z,{href:"/browse/date/".concat(n,"-").concat(r),children:(0,a.tZ)("a",{children:(0,a.tZ)("div",{className:"text-md subpixel-antialiased text-gray-800  uppercase tracking-tight bg-gradient-to-b from-gray-100 to-gray-300 py-1 px-2 rounded-lg cursor-pointer ripple-bg-white",children:e})})})},v=function(t){var e=t.items;return(0,a.tZ)("ul",{className:"flex flex-wrap mt-2",children:e.map((function(t){return(0,a.tZ)("li",{className:"mr-2 mb-2",children:(0,a.tZ)(h,{startYear:t,title:(0,m.cm)(t)})},"decade-".concat(t))}))})},g=!0;e.default=function(t){var e=t.randomClips,n=t.topics,h=t.genres,g=t.decades,_=(0,o.lP)().updateScroll,x=(0,c.useState)(),Z=x[0],w=x[1],y=(0,c.useState)((0,u.zp)()),b=y[0],k=y[1],N=(0,i.useQuery)(b,{initialData:e}),O=N.data,j=N.isFetching,C=(0,i.useQuery)((0,u.Gg)(),{initialData:n,refetchOnMount:!1}).data,P=(0,i.useQuery)(u.jY,{initialData:h,refetchOnMount:!1}).data;return(0,m.SE)(j),(0,c.useEffect)((function(){_()}),[]),(0,c.useEffect)((function(){O&&O.records&&w(function(t,e){if(t.length<=e)return t;for(var n=new Set,a=t.length-1;n.size<e;)n.add(Math.floor(Math.random()*a));return Array.from(n),t.filter((function(t,e){return n.has(e)}))}(O.records,8))}),[O]),(0,a.BX)(a.HY,{children:[(0,a.tZ)(r.PB,{title:(0,m.pz)(),openGraph:{title:(0,m.pz)(),url:m.Gd}}),(0,a.tZ)("div",{children:(0,a.tZ)(a.HY,{children:(0,a.BX)("div",{children:[(0,a.tZ)("div",{className:"pt-2 w-full",children:(0,a.BX)("div",{className:"flex flex-col flex-wrap md:flex-nowrap",children:[(0,a.tZ)(s.d,{title:"Yleisimm\xe4t aiheet"}),(0,a.tZ)("div",{className:"h-16 min-h-32 w-full mt-1 mb-3",children:C&&(0,a.tZ)(f.N,{title:"Aiheet",facet:"topic_facet",facets:C.facets.topic_facet,facetUrl:m.Pv,truncate:!0})})]})}),(0,a.tZ)("div",{className:"mt-6",children:(0,a.BX)("div",{className:"flex flex-col text-center",children:[(0,a.BX)("div",{className:"flex items-center mb-1",children:[(0,a.tZ)(s.d,{title:"Poimintoja"}),(0,a.tZ)("div",{className:"cursor-pointer active:text-pink-500",title:"N\xe4yt\xe4 lis\xe4\xe4",onClick:function(t){return k((0,u.zp)())},children:(0,a.tZ)(p.GVn,{})})]}),(0,a.tZ)(d.O,{lazy:!1,records:Z||Array.from(Array(8))}),(0,a.tZ)(l.Z,{href:"/browse/clips",children:(0,a.tZ)("a",{children:(0,a.tZ)("div",{role:"button",className:"inline-flex mt-6 mb-4 py-3 px-4 text-md subpixel-antialiased font-medium tracking-tight rounded-xl bg-gray-200 text-gray-900 hover:text-black hover:bg-white cursor-pointer bg-gradient-to-b from-gray-100 to-gray-300 ripple-bg-white",children:(0,a.tZ)("div",{className:"flex justify-center items-center",children:(0,a.tZ)("div",{className:"inline-flex",children:"Selaa elokuvia"})})})})})]})}),(0,a.tZ)("div",{className:"w-full",children:(0,a.BX)("div",{className:"flex flex-col flex-wrap md:flex-nowrap",children:[(0,a.BX)("div",{children:[(0,a.tZ)(s.d,{title:"Aikakausi"}),(0,a.tZ)(v,{items:g})]}),(0,a.BX)("div",{className:"mt-2",children:[(0,a.tZ)(s.d,{title:"Genret"}),P&&(0,a.tZ)(f.N,{title:"Genret",facet:"genre_facet",facets:(0,m.cC)(P.facets.genre_facet),facetUrl:m.Pv})]})]})})]})})})]})}},8581:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(6124)}])}},function(t){t.O(0,[617,774,888,179],(function(){return e=8581,t(t.s=e);var e}));var e=t.O();_N_E=e}]);